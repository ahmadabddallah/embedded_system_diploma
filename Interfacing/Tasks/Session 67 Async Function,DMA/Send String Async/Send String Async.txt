
static u8 volatile *global_string=NULLPTR;



void UART_SendString_Async(u8 *str){
	static u8 idx=0;
	UART_Send(str[idx]);
	global_string=str;
	Set_TX_CallBack(send_async);
	TX_InterruptEnable();
	
}

void send_async(void){
	static u8 i=1;
	
	if(global_string[i]=='#'){
		TX_InterruptDisable();
		i=1;
		return;
	}
	
	UART_SendNoBlock(global_string[i]);
	i++;
	
}